<html>
<head>
<title>Sample Page</title>
<script language="JavaScript" src="/scripts/yui/connection/build/YAHOO.js"></script>
<script language="JavaScript" src="/scripts/yui/connection/build/connection.js"></script>
<script language="JavaScript" type="text/javascript">

function Get1() {
    var connect = new YAHOO.util.Connect();

    // Yahoo uses a timer to check the status of a request, which seems questionable
    Yahoo.util.asyncRequest( "get",  "/ajaxpatterns/asynchronous/serverhang",
        function(evt){
            document.getElementById( 'httpcode').innerHTML = evt.status;
            document.getElementById( 'httpstatus').innerHTML = evt.statusText;
            document.getElementById( 'result').innerHTML = data;
            document.getElementById( 'xmlresult').innerHTML = evt.responseXML;
        });
}

function Get2() {
    YAHOO.util.Connect.asyncRequest( "get", "/ajaxpatterns/asynchronous/books.xml",
        function(evt){
            document.getElementById( 'httpcode2').innerHTML = evt.status;
            document.getElementById( 'httpstatus2').innerHTML = evt.statusText;
            document.getElementById( 'result2').innerHTML = data;
            document.getElementById( 'xmlresult2').innerHTML = evt.responseXML;
        });
}

</script>
</head>
<body>
This example illustrates how to use the <a href="/scripts/communications.js">Asynchronous</a> type
to make asynchronous XMLHttpRequest requests. The two buttons can be pressed and two
XMLHttpRequest request's are made. To illustrate the demo, click the button on the left first,
and then the one on the right, immediately after clicking the button on the left. The button
on the left calls the hanging page, and notice how the browser is not locked and can still
be used.<br />&nbsp;<br />

<button onclick="Get1()">Get the hanging content (10s)</button>
<button onclick="Get2()">Get immediate content</button>
<p><table border="1">
    <tr><td>Document</td>
        <td><span id="httpcode">No Http Code</span></td>
        <td><span id="httpstatus">No Http Status</span></td>
        <td><span id="result">No Result</span></td>
        <td><span id="xmlresult">No XML Result</span></td></tr>
    <tr><td>Document</td>
        <td><span id="httpcode2">No Http Code</span></td>
        <td><span id="httpstatus2">No Http Status</span></td>
        <td><span id="result2">No Result</span></td>
        <td><span id="xmlresult2">No XML Result</span></td></tr>
</table></p>
</body>
</html>

